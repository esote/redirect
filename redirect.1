.\"
.\" Copyright (C) 2019  Esote
.\"
.\" This program is free software: you can redistribute it and/or modify
.\" it under the terms of the GNU Affero General Public License as published
.\" by the Free Software Foundation, either version 3 of the License, or
.\" (at your option) any later version.
.\"
.\" This program is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU Affero General Public License for more details.
.\"
.\" You should have received a copy of the GNU Affero General Public License
.\" along with this program.  If not, see <https://www.gnu.org/licenses/>.
.\"
.Dd $Mdocdate: December 9 2019 $
.Dt REDIRECT 1
.Os
.Sh NAME
.Nm redirect
.Nd web server for subdomain redirects
.Sh SYNOPSIS
.Nm redirect
file
.Sh DESCRIPTION
.Nm redirect
is a web server for subdomain redirects.
.Pp
The input file to
.Nm redirect
describes the valid subdomain routes.
Each line consists of a
.Dq from
host and
.Dq to
URL separated by space.
For example:
.Bd -literal -offset indent
localhost:8441		https://localhost:1001
w.localhost:8441	https://x.localhost:1002
x.localhost:8441	https://z.localhost:1003
.Ed
.Pp
.Pa redirect.h
defines the following macros:
.Bl -tag -width HTTP_TEXT -offset indent
.It Dv BUF_LEN
buffer size for reading requests and wririting responses.
.It Dv PORT
server listening port, the port of
.Dq from
routes in the config file should match this port.
.It Dv QUEUE_LEN
listening backlog length.
.It Dv T_SEC
read and write timeout in seconds.
.It Dv HTTP_CODE
HTTP status code for the redirect response, such as 301 or 308.
.It Dv HTTP_TEXT
message phrase for
.Dv HTTP_CODE .
.El
.Sh AUTHORS
.Nm redirect
was written by
.An Esote .
.Sh COPYRIGHT
Copyright
.Pq c
2019 Esote.
There is NO warranty.
You may redistribute this software under the terms of the GNU Affero General
Public License.
For more information, see the
.Pa LICENSE
file.
